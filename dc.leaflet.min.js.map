{"version":3,"file":"dc.leaflet.min.js","sources":["dc.leaflet.js"],"names":["_dc_leaflet","dc","dc_leaflet","version","leafletBase","_chart","marginMixin","baseChart","margins","left","top","right","bottom","_map","_mapOptions","_defaultCenter","_defaultZoom","_cachedHandlers","_createLeaflet","root","child_div","selectAll","data","enter","append","attr","style","effectiveWidth","effectiveHeight","L","map","node","_tiles","tileLayer","attribution","addTo","createLeaflet","_","arguments","length","_doRender","ev","on","setView","toLocArray","tiles","legend","leafletLegend","_postRender","_doRedraw","redraw","mapOptions","center","zoom","value","split","override","event","callback","leaflet_events","indexOf","this","_on","_parent","_legend","_Llegend","control","position","parent","render","update","onAdd","_div","DomUtil","create","i","minValue","maxValue","palette","colorLength","delta","grades","colorDomain","colors","range","Math","round","innerHTML","markerChart","chartGroup","_renderPopup","_cluster","_clusterOptions","_rebuildMarkers","_brushOn","_filterByArea","_innerFilter","_zooming","_layerGroup","_markerList","_currentGroups","renderTitle","_location","d","keyAccessor","_marker","marker","Marker","locationAccessor","title","alt","icon","_icon","clickable","renderPopup","brushOn","draggable","Icon","Default","_popup","filterHandler","doFilterByArea","zoomFilter","zoomStart","MarkerClusterGroup","LayerGroup","addLayer","groups","_computeOrderedGroups","filter","valueAccessor","toString","clearLayers","addList","forEach","v","key","createmarker","cluster","push","addLayers","popup","clusterOptions","rebuildMarkers","filterByArea","markerGroup","k","bindPopup","selectFilter","e","type","hard","getCenter","equals","getZoom","getBounds","events","trigger","redrawAll","contains","getLatLng","closePopup","dimension","filters","filterFunction","locO","fitBounds","target","anchor","choroplethChart","colorChart","_geojsonLayer","_dataMap","_geojson","_featureOptions","fillColor","color","opacity","fillOpacity","weight","_featureKey","feature","_featureStyle","options","featureOptions","Function","JSON","parse","stringify","featureKeyAccessor","getColor","geoJson","geojson","featureStyle","onEachFeature","processFeatures","addData","__doRedraw","layer","d3","crossfilter","define","amd","module","exports","_dc","require"],"mappings":"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"}